{
  "version": "2.0.0",
  "description": "Configuração do Sistema de Scoring V2 - Algoritmos suaves e tolerâncias realistas por gênero",
  "lastUpdated": "2024-01-01T00:00:00Z",
  
  "globalSettings": {
    "smoothingMethod": "gaussian",
    "qualityGatesEnabled": true,
    "deduplicatedMetrics": true,
    "enableProgressiveScoring": true
  },
  
  "scoringMethods": {
    "gaussian": {
      "description": "Função gaussiana para pontuação suave",
      "sigma": 0.3,
      "enabled": true
    },
    "huber": {
      "description": "Função Huber para resistência a outliers",
      "delta": 0.5,
      "enabled": false
    }
  },
  
  "qualityGates": {
    "critical": {
      "description": "Problemas críticos que limitam score máximo",
      "maxScore": 40,
      "rules": [
        {
          "metric": "truePeak",
          "condition": "> -0.1",
          "description": "True Peak acima de -0.1 dBTP"
        }
      ]
    },
    "severe": {
      "description": "Problemas severos que limitam score",
      "maxScore": 60,
      "rules": [
        {
          "metric": "dcOffset",
          "condition": "> 0.01",
          "description": "DC Offset elevado"
        }
      ]
    },
    "moderate": {
      "description": "Problemas moderados que limitam score",
      "maxScore": 75,
      "rules": [
        {
          "metric": "peakingEQ",
          "condition": "> 3",
          "description": "Excesso de peaking EQ"
        }
      ]
    }
  },
  
  "genreTargets": {
    "funk_mandela": {
      "displayName": "Funk Mandela",
      "weights": {
        "loudness": 0.25,
        "dynamics": 0.15,
        "peak": 0.15,
        "tonal": 0.25,
        "stereo": 0.10,
        "artifacts": 0.10
      },
      "targets": {
        "loudnessIntegrated": { "min": -16, "ideal": -12, "max": -8, "unit": "LUFS" },
        "loudnessRange": { "min": 2, "ideal": 6, "max": 12, "unit": "LU" },
        "truePeak": { "min": -6, "ideal": -1, "max": -0.1, "unit": "dBTP" },
        "dynamicRange": { "min": 3, "ideal": 8, "max": 20, "unit": "dB" },
        "crestFactor": { "min": 6, "ideal": 12, "max": 25, "unit": "dB" },
        "rms": { "min": -25, "ideal": -18, "max": -12, "unit": "dBFS" },
        "samplePeak": { "min": -3, "ideal": -1, "max": -0.1, "unit": "dBFS" },
        "dcOffset": { "min": 0, "ideal": 0, "max": 0.001, "unit": "absolute" },
        "stereoWidth": { "min": 80, "ideal": 100, "max": 120, "unit": "%" },
        "phaseCorrelation": { "min": 0.3, "ideal": 0.8, "max": 1.0, "unit": "correlation" },
        "spectralCentroid": { "min": 1000, "ideal": 2500, "max": 4000, "unit": "Hz" },
        "spectralRolloff": { "min": 8000, "ideal": 12000, "max": 18000, "unit": "Hz" },
        "spectralFlatness": { "min": 0.05, "ideal": 0.15, "max": 0.4, "unit": "flatness" },
        "zeroCrossingRate": { "min": 0.05, "ideal": 0.15, "max": 0.3, "unit": "rate" },
        "mfcc1": { "min": -50, "ideal": -20, "max": 10, "unit": "coefficient" },
        "mfcc2": { "min": -30, "ideal": 0, "max": 30, "unit": "coefficient" },
        "totalHarmonicDistortion": { "min": 0, "ideal": 0.01, "max": 0.05, "unit": "%" },
        "intermodulationDistortion": { "min": 0, "ideal": 0.005, "max": 0.03, "unit": "%" },
        "signalToNoiseRatio": { "min": 40, "ideal": 60, "max": 100, "unit": "dB" },
        "effectiveNoiseFloor": { "min": -80, "ideal": -60, "max": -40, "unit": "dBFS" },
        "peakingEQ": { "min": 0, "ideal": 1, "max": 3, "unit": "count" },
        "shelvingEQ": { "min": 0, "ideal": 2, "max": 4, "unit": "count" },
        "compressionRatio": { "min": 1, "ideal": 3, "max": 8, "unit": "ratio" },
        "attackTime": { "min": 1, "ideal": 10, "max": 50, "unit": "ms" },
        "releaseTime": { "min": 50, "ideal": 200, "max": 1000, "unit": "ms" },
        "bassBalance": { "min": 0.8, "ideal": 1.2, "max": 1.8, "unit": "ratio" },
        "midBalance": { "min": 0.7, "ideal": 1.0, "max": 1.3, "unit": "ratio" },
        "trebleBalance": { "min": 0.6, "ideal": 1.0, "max": 1.4, "unit": "ratio" },
        "subBass": { "min": 0.5, "ideal": 1.0, "max": 2.0, "unit": "ratio" },
        "midBass": { "min": 0.8, "ideal": 1.1, "max": 1.5, "unit": "ratio" },
        "lowMid": { "min": 0.7, "ideal": 1.0, "max": 1.3, "unit": "ratio" },
        "highMid": { "min": 0.6, "ideal": 0.9, "max": 1.2, "unit": "ratio" }
      },
      "tolerances": {
        "tight": 0.1,
        "normal": 0.2,
        "loose": 0.4
      }
    },
    
    "eletronico": {
      "displayName": "Eletrônico",
      "weights": {
        "loudness": 0.20,
        "dynamics": 0.10,
        "peak": 0.20,
        "tonal": 0.25,
        "stereo": 0.15,
        "artifacts": 0.10
      },
      "targets": {
        "loudnessIntegrated": { "min": -14, "ideal": -10, "max": -6, "unit": "LUFS" },
        "loudnessRange": { "min": 1, "ideal": 4, "max": 8, "unit": "LU" },
        "truePeak": { "min": -3, "ideal": -0.5, "max": -0.1, "unit": "dBTP" },
        "dynamicRange": { "min": 2, "ideal": 5, "max": 15, "unit": "dB" },
        "crestFactor": { "min": 4, "ideal": 8, "max": 20, "unit": "dB" },
        "rms": { "min": -20, "ideal": -15, "max": -10, "unit": "dBFS" },
        "samplePeak": { "min": -1, "ideal": -0.3, "max": -0.1, "unit": "dBFS" },
        "dcOffset": { "min": 0, "ideal": 0, "max": 0.001, "unit": "absolute" },
        "stereoWidth": { "min": 90, "ideal": 110, "max": 140, "unit": "%" },
        "phaseCorrelation": { "min": 0.2, "ideal": 0.7, "max": 1.0, "unit": "correlation" },
        "spectralCentroid": { "min": 1500, "ideal": 3500, "max": 6000, "unit": "Hz" },
        "spectralRolloff": { "min": 10000, "ideal": 15000, "max": 20000, "unit": "Hz" },
        "spectralFlatness": { "min": 0.1, "ideal": 0.25, "max": 0.5, "unit": "flatness" },
        "zeroCrossingRate": { "min": 0.1, "ideal": 0.25, "max": 0.4, "unit": "rate" },
        "mfcc1": { "min": -40, "ideal": -15, "max": 15, "unit": "coefficient" },
        "mfcc2": { "min": -25, "ideal": 5, "max": 35, "unit": "coefficient" },
        "totalHarmonicDistortion": { "min": 0, "ideal": 0.005, "max": 0.03, "unit": "%" },
        "intermodulationDistortion": { "min": 0, "ideal": 0.003, "max": 0.02, "unit": "%" },
        "signalToNoiseRatio": { "min": 45, "ideal": 70, "max": 110, "unit": "dB" },
        "effectiveNoiseFloor": { "min": -90, "ideal": -70, "max": -50, "unit": "dBFS" },
        "peakingEQ": { "min": 0, "ideal": 2, "max": 5, "unit": "count" },
        "shelvingEQ": { "min": 0, "ideal": 3, "max": 6, "unit": "count" },
        "compressionRatio": { "min": 1, "ideal": 4, "max": 12, "unit": "ratio" },
        "attackTime": { "min": 0.5, "ideal": 5, "max": 30, "unit": "ms" },
        "releaseTime": { "min": 30, "ideal": 150, "max": 800, "unit": "ms" },
        "bassBalance": { "min": 1.0, "ideal": 1.5, "max": 2.2, "unit": "ratio" },
        "midBalance": { "min": 0.6, "ideal": 0.9, "max": 1.2, "unit": "ratio" },
        "trebleBalance": { "min": 0.8, "ideal": 1.2, "max": 1.6, "unit": "ratio" },
        "subBass": { "min": 0.8, "ideal": 1.3, "max": 2.5, "unit": "ratio" },
        "midBass": { "min": 0.9, "ideal": 1.2, "max": 1.7, "unit": "ratio" },
        "lowMid": { "min": 0.6, "ideal": 0.8, "max": 1.1, "unit": "ratio" },
        "highMid": { "min": 0.7, "ideal": 1.0, "max": 1.3, "unit": "ratio" }
      },
      "tolerances": {
        "tight": 0.15,
        "normal": 0.25,
        "loose": 0.45
      }
    },
    
    "funk_automotivo": {
      "displayName": "Funk Automotivo",
      "weights": {
        "loudness": 0.30,
        "dynamics": 0.10,
        "peak": 0.20,
        "tonal": 0.20,
        "stereo": 0.10,
        "artifacts": 0.10
      },
      "targets": {
        "loudnessIntegrated": { "min": -14, "ideal": -10, "max": -6, "unit": "LUFS" },
        "loudnessRange": { "min": 1, "ideal": 3, "max": 6, "unit": "LU" },
        "truePeak": { "min": -2, "ideal": -0.3, "max": -0.1, "unit": "dBTP" },
        "dynamicRange": { "min": 2, "ideal": 4, "max": 10, "unit": "dB" },
        "crestFactor": { "min": 3, "ideal": 6, "max": 15, "unit": "dB" },
        "rms": { "min": -18, "ideal": -12, "max": -8, "unit": "dBFS" },
        "samplePeak": { "min": -1, "ideal": -0.2, "max": -0.1, "unit": "dBFS" },
        "dcOffset": { "min": 0, "ideal": 0, "max": 0.001, "unit": "absolute" },
        "stereoWidth": { "min": 70, "ideal": 90, "max": 110, "unit": "%" },
        "phaseCorrelation": { "min": 0.4, "ideal": 0.8, "max": 1.0, "unit": "correlation" },
        "spectralCentroid": { "min": 800, "ideal": 2000, "max": 3500, "unit": "Hz" },
        "spectralRolloff": { "min": 6000, "ideal": 10000, "max": 15000, "unit": "Hz" },
        "spectralFlatness": { "min": 0.03, "ideal": 0.1, "max": 0.3, "unit": "flatness" },
        "zeroCrossingRate": { "min": 0.03, "ideal": 0.1, "max": 0.25, "unit": "rate" },
        "mfcc1": { "min": -60, "ideal": -25, "max": 5, "unit": "coefficient" },
        "mfcc2": { "min": -35, "ideal": -5, "max": 25, "unit": "coefficient" },
        "totalHarmonicDistortion": { "min": 0, "ideal": 0.02, "max": 0.08, "unit": "%" },
        "intermodulationDistortion": { "min": 0, "ideal": 0.01, "max": 0.05, "unit": "%" },
        "signalToNoiseRatio": { "min": 35, "ideal": 55, "max": 90, "unit": "dB" },
        "effectiveNoiseFloor": { "min": -70, "ideal": -50, "max": -30, "unit": "dBFS" },
        "peakingEQ": { "min": 0, "ideal": 2, "max": 4, "unit": "count" },
        "shelvingEQ": { "min": 0, "ideal": 2, "max": 4, "unit": "count" },
        "compressionRatio": { "min": 2, "ideal": 6, "max": 15, "unit": "ratio" },
        "attackTime": { "min": 0.5, "ideal": 3, "max": 20, "unit": "ms" },
        "releaseTime": { "min": 20, "ideal": 100, "max": 500, "unit": "ms" },
        "bassBalance": { "min": 1.2, "ideal": 2.0, "max": 3.0, "unit": "ratio" },
        "midBalance": { "min": 0.5, "ideal": 0.8, "max": 1.1, "unit": "ratio" },
        "trebleBalance": { "min": 0.4, "ideal": 0.7, "max": 1.0, "unit": "ratio" },
        "subBass": { "min": 1.0, "ideal": 2.0, "max": 3.5, "unit": "ratio" },
        "midBass": { "min": 1.0, "ideal": 1.5, "max": 2.2, "unit": "ratio" },
        "lowMid": { "min": 0.5, "ideal": 0.7, "max": 1.0, "unit": "ratio" },
        "highMid": { "min": 0.4, "ideal": 0.6, "max": 0.9, "unit": "ratio" }
      },
      "tolerances": {
        "tight": 0.2,
        "normal": 0.3,
        "loose": 0.5
      }
    }
  },
  
  "deduplicatedMetrics": {
    "description": "Métricas removidas por duplicação no scoring V2",
    "removed": [
      {
        "metric": "rms",
        "reason": "Similaridade com loudnessIntegrated (correlação: 0.89)",
        "keepUsing": "loudnessIntegrated"
      },
      {
        "metric": "crestFactor", 
        "reason": "Inverso de dynamicRange (correlação: -0.94)",
        "keepUsing": "dynamicRange"
      },
      {
        "metric": "samplePeak",
        "reason": "Similaridade com truePeak (correlação: 0.97)",
        "keepUsing": "truePeak"
      },
      {
        "metric": "mfcc2",
        "reason": "Correlação alta com mfcc1 (correlação: 0.76)",
        "keepUsing": "mfcc1"
      },
      {
        "metric": "intermodulationDistortion",
        "reason": "Correlação com totalHarmonicDistortion (correlação: 0.82)",
        "keepUsing": "totalHarmonicDistortion"
      },
      {
        "metric": "effectiveNoiseFloor",
        "reason": "Correlação com signalToNoiseRatio (correlação: -0.91)",
        "keepUsing": "signalToNoiseRatio"
      },
      {
        "metric": "shelvingEQ",
        "reason": "Colinearidade com peakingEQ para este contexto",
        "keepUsing": "peakingEQ"
      }
    ]
  },
  
  "featureFlags": {
    "SCORING_V2_ENABLED": {
      "description": "Habilita sistema de scoring V2",
      "default": false,
      "rollbackSafe": true
    },
    "QUALITY_GATES_ENABLED": {
      "description": "Habilita quality gates",
      "default": true,
      "rollbackSafe": true
    },
    "METRIC_DEDUPLICATION": {
      "description": "Remove métricas duplicadas",
      "default": true,
      "rollbackSafe": true
    },
    "PROGRESSIVE_SCORING": {
      "description": "Scoring progressivo baseado em qualidade",
      "default": true,
      "rollbackSafe": true
    }
  }
}
